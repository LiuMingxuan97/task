"""
@author axiner
@version v1.0.0
@created 2022/10/19 17:02
@abstract
@description
@history
"""
import unittest

from core import calc


class TestBounds(unittest.TestCase):

    def test_001(self):
        print('this is test')

    def test_calc_xyz(self):
        bounds = [113,43,120,36]
        levels = [16, 16]
        all_tiles = calc.all_level_tiles(bounds=bounds, levels=levels)
        print("层级||x||y||数量")
        for tile in all_tiles:
            z, x, y = tile.z, tile.x, tile.y
            count = (x[1]-x[0]+1)*(y[1]-y[0]+1)
            print(f"{z}, {x}, {y}, {count}")
        """
        中国范围：[73.33, 53.33, 135.05, 3.51]
        层级||x||y||数量
        1, [1, 1], [0, 0], 1
        2, [2, 3], [1, 1], 2
        3, [5, 7], [2, 3], 6
        4, [11, 14], [5, 7], 12
        5, [22, 28], [10, 15], 42
        6, [45, 56], [20, 31], 144
        7, [90, 112], [41, 62], 506
        8, [180, 224], [83, 125], 1935
        9, [360, 448], [166, 251], 7654
        10, [720, 896], [332, 502], 30267
        11, [1441, 1792], [664, 1004], 120032
        12, [2882, 3584], [1328, 2008], 478743
        13, [5764, 7169], [2656, 4016], 1913566
        14, [11529, 14338], [5312, 8032], 7646010
        15, [23058, 28676], [10624, 16064], 30572979
        16, [46117, 57353], [21248, 32128], 122269797
        17, [92234, 114706], [42496, 64257], 489057426
        18, [184469, 229412], [84993, 128514], 1956052768
        19, [368938, 458824], [169986, 257028], 7824034141
        20, [737877, 917649], [339972, 514057], 31295962478
        21, [1475754, 1835299], [679944, 1028115], 125183849912
        22, [2951508, 3670598], [1359889, 2056231], 500733984213
        
        全球范围：[-180, 90, 180, -90]
        层级||x||y||数量
        1, (0, 2), (0, 1), 6
        2, (0, 4), (0, 3), 20
        3, (0, 8), (0, 7), 72
        4, (0, 16), (0, 15), 272
        5, (0, 32), (0, 31), 1056
        6, (0, 64), (0, 63), 4160
        7, (0, 128), (0, 127), 16512
        8, (0, 256), (0, 255), 65792
        
maptile-downloader-china_16_5_img_w  | [INFO][2023-03-28 22:40:24,543][url.py:50]【发送请求:16/54408/24297】http://t1.tianditu.gov.cn/img_w/wmts?SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&LAYER=img&STYLE=default&TILEMATRIXSET=w&FORMAT=tiles&TILEMATRIX=16&TILECOL=54408&TILEROW=24297&tk=c00b4864dc9fad76b0b38381dcd90ea7
        """
